{"version":3,"sources":["utils.js","components/BuyTicketForm.js","components/Datetime.js","components/CreateEventForm.js","components/IconWithText.js","components/Event.js","components/Footer.js","components/LokethAlert.js","components/Navbar.js","components/Pagination.js","components/WithdrawalForm.js","getWeb3.js","pages/Events.js","pages/MyEvents.js","pages/MyTickets.js","App.js","serviceWorker.js","index.js"],"names":["ERRORS","displayError","log","message","ErrorHandler","error","Error","this","key","Object","keys","find","err","includes","_error","Event","event","id","str","limit","length","substr","strLimit","name","getShortAddress","organizer","epoch","startTime","startTimeMoment","format","endTime","endTimeMoment","moment","isAfter","isSame","onlyOneDay","epochToEventDate","map","join","fromWei","price","toBN","eq","soldCounter","lt","quota","moneyCollected","moneyCollectedInBN","gt","arrayChunk","array","i","j","chunk","result","push","slice","descPagination","total","page","perPage","zeroBased","maxId","min","minId","hasPrev","hasNext","seconds","number","unit","digits","parseFloat","Web3","utils","toFixed","address","handleError","errorHandler","toErrorHandler","alert","console","isAddress","BN","toString","toEvent","toWei","BuyTicketForm","state","isBuying","isPaymentSucceed","loaded","userAlreadyHasTheTicket","userIsTheOwner","componentDidMount","a","getEvent","componentDidUpdate","prevProps","prevState","props","setState","accounts","e","loketh","account","methods","call","from","participantHasTicket","organizerOwnsEvent","buyTicket","send","value","onHide","show","submitButtonChildren","spinner","Spinner","animation","ended","soldOut","Modal","backdrop","keyboard","centered","Header","closeButton","Title","Body","Form","onSubmit","preventDefault","Group","InputGroup","Prepend","Text","Control","readOnly","startTimeDisplay","endTimeDisplay","priceInEth","Append","Button","variant","type","block","disabled","className","Component","Datetime","placeholder","required","validationMessage","dateFormat","timeFormat","timeConstraints","minutes","step","renderInput","etherUnits","ether","gwei","wei","initialEvent","isFree","initialEventValidation","validated","CreateEventForm","isCreating","isCreated","validation","formSubmitted","validate","createEvent","callback","unix","renderForm","startTimeValue","endTimeValue","noValidate","classNames","onChange","target","Feedback","inputProps","isValidDate","currentDate","isSameOrAfter","as","Row","Col","sm","DropdownButton","title","Dropdown","Item","eventKey","active","onSelect","Check","custom","label","checked","IconWithText","children","Icon","icon","style","display","alignItems","forOrganizer","forParticipant","onClickTitle","Card","shortName","Link","href","onClick","date","FaCalendarAlt","displayDate","FaEthereum","FaUsers","Footer","moneyCollectedInEth","FaUserCircle","shortOrganizer","ATargetBlank","newProps","rel","LokethAlert","Alert","onClose","dismissible","Heading","Navbar","eventCreatedListener","moneyWithdrawnListener","ticketIssuedListener","balance","initialized","getAccount","listenToEventCreated","listenToMoneyWithdrawn","listenToTicketIssued","web3","eth","getBalance","off","filter","events","EventCreated","on","recipient","MoneyWithdrawn","participant","TicketIssued","bg","expand","sticky","Container","Brand","Toggle","Collapse","Nav","defaultActiveKey","to","Pagination","onClickPrev","onClickNext","things","Prev","Next","WithdrawalForm","activeTab","addressToCheck","isAddressValid","isValidatingAddress","isWithdrawalSucceed","isWithdrawing","withdraw","withdrawMoney","renderCheck","renderWithdraw","canWithdraw","hasMoneyToWithdraw","Tabs","activeKey","tab","Tab","getWeb3","onAccountsChanged","Promise","resolve","reject","window","addEventListener","ethereum","enable","CHUNK","Events","paginationHasPrev","paginationHasNext","selectedEvent","showBuyTicket","totalEvents","getEvents","fromData","toData","filler","x","rowClassName","MyEvents","_isMounted","showCreate","showWithdrawal","componentWillUnmount","reload","eventsOfOwner","eventIds","chunks","eventId","top","right","FaCalendarPlus","MyTickets","tickets","totalTickets","getTickets","ticketsOfOwner","ticketIds","ticket","App","getAccounts","net","getId","process","networkId","deployedNetwork","LokethContract","networks","instance","Contract","abi","basename","path","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3dd8feab.chunk.js","sourcesContent":["import moment, { unix as epoch } from 'moment';\nimport Web3 from 'web3';\n\nconst ERRORS = {\n  'You have no Metamask installed': {\n    displayError: true,\n    log: false,\n    message: 'You have no Metamask installed.'\n  },\n  'You are connected to the wrong network': {\n    displayError: true,\n    log: false,\n    message: 'You are connected to the wrong network.'\n  },\n  'User rejected the request': {\n    displayError: true,\n    log: false,\n    message: 'You rejected the connect request.'\n  },\n  'User denied transaction signature': {\n    displayError: false,\n    log: false,\n    message: 'MetaMask Tx Signature: User denied transaction signature.'\n  },\n  'Loketh: Organizer can not buy their own event': {\n    displayError: true,\n    log: false,\n    message: 'You can not buy a ticket from your own event.'\n  },\n  'Loketh: Participant already bought the ticket': {\n    displayError: true,\n    log: false,\n    message: 'You are already buy this ticket.'\n  }\n};\n\nclass ErrorHandler {\n  constructor(error) {\n    if (error instanceof Error) {\n      this.error = error;\n    } else if ((typeof error === 'object') && error.message) {\n      this.error = new Error(error.message);\n    } else {\n      this.error = new Error(error);\n    }\n\n    const key = Object.keys(ERRORS).find(err => {\n      return this.error.message.includes(err);\n    })\n\n    this._error = key ? ERRORS[key] : null;\n  }\n\n  get displayError() {\n    return this._error ? this._error.displayError : true;\n  }\n\n  get log() {\n    return this._error ? this._error.log : true;\n  }\n\n  get message() {\n    return this._error ? this._error.message : 'Something went wrong.';\n  }\n}\n\nclass Event {\n  constructor(event, id) {\n    this.event = event;\n    this.id = id;\n  }\n\n  get name() {\n    return this.event['0'];\n  }\n\n  get shortName() {\n    return strLimit(this.name, 25);\n  }\n\n  get organizer() {\n    return this.event['1'];\n  }\n\n  get shortOrganizer() {\n    return getShortAddress(this.organizer);\n  }\n\n  get startTime() {\n    return this.event['2'];\n  }\n\n  get startTimeMoment() {\n    return epoch(this.startTime);\n  }\n\n  get startTimeDisplay() {\n    return this.startTimeMoment.format('DD MMM YYYY HH:mm:ss');\n  }\n\n  get endTime() {\n    return this.event['3'];\n  }\n\n  get endTimeMoment() {\n    return epoch(this.endTime);\n  }\n\n  get endTimeDisplay() {\n    return this.endTimeMoment.format('DD MMM YYYY HH:mm:ss');\n  }\n\n  get ended() {\n    return moment().isAfter(this.endTimeMoment);\n  }\n\n  get onlyOneDay() {\n    return this.startTimeMoment.isSame(this.endTimeMoment, 'day');\n  }\n\n  get displayDate() {\n    return this.onlyOneDay\n      ? epochToEventDate(this.startTime)\n      : [this.startTime, this.endTime].map(epochToEventDate).join(' - ');\n  }\n\n  get price() {\n    return this.event['4'];\n  }\n\n  get priceInEth() {\n    return fromWei(this.price);\n  }\n\n  get isFree() {\n    return toBN(this.price).eq(toBN('0'));\n  }\n\n  get quota() {\n    return this.event['5'];\n  }\n\n  get soldCounter() {\n    return this.event['6'];\n  }\n\n  get soldOut() {\n    return toBN(this.soldCounter).lt(toBN(this.quota)) === false;\n  }\n\n  get moneyCollected() {\n    return this.event['7'];\n  }\n\n  get moneyCollectedInEth() {\n    return fromWei(this.moneyCollected);\n  }\n\n  get moneyCollectedInBN() {\n    return toBN(this.moneyCollected);\n  }\n\n  get hasMoneyToWithdraw() {\n    return this.moneyCollectedInBN.gt(toBN('0'));\n  }\n}\n\nexport function arrayChunk(array, chunk = 10) {\n  let i, j;\n  const result = [];\n\n  for (i = 0, j = array.length; i < j; i += chunk) {\n    result.push(array.slice(i, i + chunk));\n  }\n\n  return result;\n}\n\nexport function descPagination(total, page = 1, perPage = 10, zeroBased = true) {\n  total = zeroBased ? (total - 1) : total;\n\n  const maxId = total - ((page - 1) * perPage);\n\n  const min = zeroBased ? -1 : 0;\n  const minId = ((maxId - perPage) < min) ? min : (maxId - perPage);\n\n  const hasPrev = maxId < total;\n  const hasNext = minId > min;\n\n  return { maxId, minId, hasPrev, hasNext };\n}\n\nexport function epochToEventDate(seconds) {\n  return epoch(seconds).format('MMM D, YYYY');\n}\n\nexport function fromWei(number, unit = 'ether', digits = 4) {\n  return parseFloat(Web3.utils.fromWei(number, unit)).toFixed(digits);\n}\n\nexport function getShortAddress(address) {\n  return `${address.substr(0, 6)}...${address.substr(-4)}`;\n}\n\nexport function handleError(error) {\n  const errorHandler = toErrorHandler(error);\n\n  if (errorHandler.displayError) {\n    alert(errorHandler.message);\n  }\n\n  if (errorHandler.log) {\n    console.error(error);\n  }\n}\n\nexport function isAddress(address) {\n  return Web3.utils.isAddress(address);\n}\n\nexport function strLimit(str, limit = 20) {\n  if (str.length > limit) {\n    return `${str.substr(0, limit)}...`;\n  }\n\n  return str;\n}\n\nexport function toBN(number) {\n  return new Web3.utils.BN(number.toString());\n}\n\nexport function toEvent(event, id = 0) {\n  return new Event(event, id);\n}\n\nexport function toErrorHandler(error) {\n  return new ErrorHandler(error);\n}\n\nexport function toWei(number, unit = 'ether') {\n  return Web3.utils.toWei(number.toString(), unit);\n}\n","import React, { Component } from 'react';\nimport { Button, Form, InputGroup, Modal, Spinner } from 'react-bootstrap';\nimport {\n  FaCalendar,\n  FaCalendarAlt,\n  FaEthereum,\n  FaUserCircle,\n  FaUsers\n} from 'react-icons/fa';\n\nimport { handleError, toEvent } from '../utils';\n\nclass BuyTicketForm extends Component {\n  state = {\n    event: null,\n    isBuying: false,\n    isPaymentSucceed: false,\n    loaded: false,\n    userAlreadyHasTheTicket: false,\n    userIsTheOwner: false\n  };\n\n  componentDidMount = async () => {\n    await this.getEvent();\n  };\n\n  componentDidUpdate = async (prevProps, prevState) => {\n    if (\n      (this.props.event !== prevProps.event) ||\n      (\n        !this.state.loaded && (\n          this.state.loaded !== prevState.loaded\n        )\n      )\n    ) {\n      await this.getEvent();\n    }\n  };\n\n  getEvent = async () => {\n    try {\n      this.setState({ loaded: false });\n\n      const { accounts, event: e, loketh } = this.props;\n\n      const [account] = accounts;\n\n      if (e) {\n        const event = await loketh.methods.getEvent(e.id).call({\n          from: account\n        });\n\n        const userAlreadyHasTheTicket = (\n          await loketh.methods.participantHasTicket(account, e.id).call({\n            from: account\n          })\n        );\n\n        const userIsTheOwner = (\n          await loketh.methods.organizerOwnsEvent(account, e.id).call({\n            from: account\n          })\n        );\n\n        this.setState({\n          event: toEvent(event, e.id),\n          loaded: true,\n          userAlreadyHasTheTicket,\n          userIsTheOwner\n        });\n      }\n    } catch (error) {\n      handleError(error);\n    }\n  };\n\n  buyTicket = async (event) => {\n    this.setState({ isBuying: true });\n\n    const { accounts, loketh } = this.props;\n\n    try {\n      await loketh.methods.buyTicket(event.id).send({\n        from: accounts[0],\n        value: event.price\n      });\n\n      this.setState({ isBuying: true, isPaymentSucceed: true });\n\n      await this.getEvent();\n    } catch (error) {\n      handleError(error);\n\n      this.setState({ isBuying: false, isPaymentSucceed: false });\n    }\n  };\n\n  render() {\n    const {\n      onHide = () => {},\n      show = false\n    } = this.props;\n\n    const {\n      event,\n      isBuying,\n      isPaymentSucceed,\n      loaded,\n      userAlreadyHasTheTicket,\n      userIsTheOwner\n    } = this.state;\n\n    let submitButtonChildren = null;\n    const spinner = (<Spinner animation=\"border\" />);\n\n    if (isBuying) {\n      submitButtonChildren = isPaymentSucceed\n        ? 'Payment succeed! See your tickets in My Tickets page.'\n        : spinner;\n    } else {\n      if (userAlreadyHasTheTicket) {\n        submitButtonChildren = (\n          'You are already own this ticket. See My Tickets page.'\n        );\n      } else if (event && event.ended) {\n        submitButtonChildren = 'Can not buy ticket, event already ended.';\n      } else if (event && event.soldOut) {\n        submitButtonChildren = 'Can not buy ticket, event already sold out.';\n      } else {\n        submitButtonChildren = 'Buy Ticket';\n      }\n    }\n\n    return (\n      <Modal\n        show={show}\n        onHide={() => {\n          this.setState({\n            event: null,\n            isBuying: false,\n            isPaymentSucceed: false,\n            loaded: false\n          }, () => {\n            onHide();\n          });\n        }}\n        backdrop=\"static\"\n        keyboard={false}\n        centered\n      >\n        <Modal.Header closeButton={!isBuying || isPaymentSucceed}>\n          <Modal.Title>Buy Ticket</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {\n            loaded ? (\n              <Form onSubmit={e => {\n                e.preventDefault();\n\n                this.buyTicket(event);\n              }}>\n                <Form.Group>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text><FaCalendar /></InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control value={event.name} readOnly />\n                  </InputGroup>\n                </Form.Group>\n                <Form.Group>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text><FaCalendarAlt /></InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control\n                      value={\n                        `${event.startTimeDisplay} - ${event.endTimeDisplay}`\n                      }\n                      readOnly\n                    />\n                  </InputGroup>\n                </Form.Group>\n                <Form.Group>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text><FaUserCircle /></InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control value={event.organizer} readOnly />\n                  </InputGroup>\n                </Form.Group>\n                <Form.Group>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text><FaEthereum /></InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control value={event.priceInEth} readOnly />\n                    <InputGroup.Append>\n                      <InputGroup.Text>ETH</InputGroup.Text>\n                    </InputGroup.Append>\n                  </InputGroup>\n                </Form.Group>\n                <Form.Group>\n                  <InputGroup>\n                    <InputGroup.Prepend>\n                      <InputGroup.Text><FaUsers /></InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <Form.Control\n                      value={\n                        `${event.soldCounter} / ${event.quota}`\n                      }\n                      readOnly\n                    />\n                  </InputGroup>\n                </Form.Group>\n                {\n                  !userIsTheOwner && (\n                    <Button\n                      variant=\"primary\"\n                      type=\"submit\"\n                      block\n                      disabled={(\n                        isBuying\n                        || userAlreadyHasTheTicket\n                        || event.ended\n                        || event.soldOut\n                      )}\n                    >\n                      {submitButtonChildren}\n                    </Button>\n                  )\n                }\n              </Form>\n            ) : (\n              <div className=\"d-flex justify-content-center\">\n                {spinner}\n              </div>\n            )\n          }\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nexport default BuyTicketForm;\n","import React, { Component } from 'react';\nimport { Form, InputGroup } from 'react-bootstrap';\nimport BaseDatetime from 'react-datetime';\nimport { FaCalendarAlt } from 'react-icons/fa';\n\nimport 'react-datetime/css/react-datetime.css';\n\nclass Datetime extends Component {\n  render() {\n    const {\n      placeholder = '',\n      required = false,\n      validationMessage = () => {},\n      ...props\n    } = this.props;\n\n    return (\n      <BaseDatetime\n        {...props}\n        dateFormat=\"DD MMM YYYY\"\n        timeFormat=\"HH:mm\"\n        timeConstraints={{ minutes: { step: 5 } }}\n        renderInput={props => {\n          return (\n            <InputGroup>\n              <InputGroup.Prepend>\n                <InputGroup.Text><FaCalendarAlt /></InputGroup.Text>\n              </InputGroup.Prepend>\n              <Form.Control\n                {...props}\n                readOnly\n                required={required}\n                placeholder={placeholder}\n              />\n              {validationMessage()}\n            </InputGroup>\n          );\n        }}\n      />\n    );\n  }\n}\n\nexport default Datetime;\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport moment from 'moment';\nimport {\n  Button,\n  Col,\n  Dropdown,\n  DropdownButton,\n  Form,\n  InputGroup,\n  Modal,\n  Row,\n  Spinner\n} from 'react-bootstrap';\nimport { FaCalendar, FaEthereum, FaUsers } from 'react-icons/fa';\n\nimport Datetime from './Datetime';\nimport { handleError, toWei } from '../utils';\n\nconst etherUnits = {\n  ether: 'Ether',\n  gwei: 'Gwei',\n  wei: 'Wei'\n};\n\nconst initialEvent = () => ({\n  name: '',\n  startTime: 0,\n  endTime: 0,\n  price: 1,\n  unit: 'ether',\n  isFree: false,\n  quota: 1\n});\n\nconst initialEventValidation = () => ({\n  validated: false,\n  result: false,\n  name: false,\n  startTime: false,\n  endTime: false,\n  price: false,\n  unit: false,\n  quota: false\n});\n\nclass CreateEventForm extends Component {\n  state = {\n    event: initialEvent(),\n    isCreating: false,\n    isCreated: false,\n    validation: initialEventValidation()\n  };\n\n  formSubmitted = async () => {\n    this.setState({ isCreating: true });\n\n    this.validate(async () => {\n      const { accounts, loketh } = this.props;\n\n      try {\n        const { event, validation } = this.state;\n\n        if (validation.result) {\n          await loketh.methods.createEvent(\n            event.name,\n            event.startTime,\n            event.endTime,\n            toWei(event.price, event.unit),\n            event.quota\n          ).send({ from: accounts[0] });\n\n          this.setState({ isCreating: true, isCreated: true });\n        } else {\n          this.setState({ isCreating: false, isCreated: false });\n        }\n      } catch (error) {\n        handleError(error);\n\n        this.setState({ isCreating: false, isCreated: false });\n      }\n    });\n  };\n\n  validate = (callback = () => {}) => {\n    const { event } = this.state;\n\n    const name = event.name.length > 0;\n    const startTime = event.startTime > moment().unix();\n    const endTime = event.endTime > event.startTime;\n    const price = event.price >= 0;\n    const unit = Object.keys(etherUnits).includes(event.unit);\n    const quota = event.quota > 0;\n\n    this.setState({\n      validation: {\n        validated: true,\n        result: (name && startTime && endTime && price && unit && quota),\n        name,\n        startTime,\n        endTime,\n        price,\n        unit,\n        quota\n      }\n    }, () => {\n      callback();\n    });\n  };\n\n  renderForm = () => {\n    const { event, isCreating, isCreated, validation } = this.state;\n\n    const { validated } = validation;\n    const startTimeValue = event.startTime > 0\n      ? moment.unix(event.startTime)\n      : '';\n    const endTimeValue = event.endTime > 0\n      ? moment.unix(event.endTime)\n      : '';\n\n    let submitButtonChildren = null;\n\n    if (isCreating) {\n      submitButtonChildren = isCreated\n        ? 'You just created a new event!'\n        : (<Spinner animation=\"border\" />);\n    } else {\n      submitButtonChildren = 'Create';\n    }\n\n    return (\n      <Form noValidate onSubmit={e => {\n        e.preventDefault();\n\n        this.formSubmitted();\n      }}>\n        <Form.Group>\n          <InputGroup>\n            <InputGroup.Prepend>\n              <InputGroup.Text><FaCalendar /></InputGroup.Text>\n            </InputGroup.Prepend>\n            <Form.Control\n              required\n              placeholder=\"Name\"\n              value={event.name}\n              className={classNames({\n                'is-valid': validated && validation.name,\n                'is-invalid': validated && !validation.name\n              })}\n              disabled={isCreating}\n              onChange={e => {\n                const { value: name } = e.target;\n\n                this.setState({ event: { ...event, name } }, () => {\n                  this.validate();\n                });\n              }}\n            />\n            {\n              (validated && !validation.name) && (\n                <Form.Control.Feedback type=\"invalid\">\n                  Name is required.\n                </Form.Control.Feedback>\n              )\n            }\n          </InputGroup>\n        </Form.Group>\n        <Form.Group>\n          <Datetime\n            required\n            inputProps={{\n              className: classNames({\n                'is-valid': validated && validation.startTime,\n                'is-invalid': validated && !validation.startTime\n              }),\n              disabled: isCreating\n            }}\n            placeholder=\"Start date and time\"\n            value={startTimeValue}\n            isValidDate={currentDate => {\n              return currentDate.isSameOrAfter(moment(), 'day');\n            }}\n            onChange={e => {\n              this.setState({\n                event: {\n                  ...event,\n                  startTime: e.unix()\n                }\n              }, () => {\n                this.validate();\n              });\n            }}\n            validationMessage={() => {\n              return (validated && !validation.startTime) ? (\n                <Form.Control.Feedback type=\"invalid\">\n                  Start date and time is required and must be a date and time after now.\n                </Form.Control.Feedback>\n              ) : null;\n            }}\n          />\n        </Form.Group>\n        <Form.Group>\n          <Datetime\n            required\n            inputProps={{\n              className: classNames({\n                'is-valid': validated && validation.endTime,\n                'is-invalid': validated && !validation.endTime\n              }),\n              disabled: isCreating\n            }}\n            placeholder=\"End date and time\"\n            value={endTimeValue}\n            isValidDate={currentDate => {\n              return currentDate.isSameOrAfter(startTimeValue, 'day');\n            }}\n            onChange={e => {\n              this.setState({\n                event: {\n                  ...event,\n                  endTime: e.unix()\n                }\n              }, () => {\n                this.validate();\n              });\n            }}\n            validationMessage={() => {\n              return (validated && !validation.endTime) ? (\n                <Form.Control.Feedback type=\"invalid\">\n                  End date and time is required and must be a date and time after start date and time.\n                </Form.Control.Feedback>\n              ) : null;\n            }}\n          />\n        </Form.Group>\n        <Form.Group as={Row} className=\"align-items-center\">\n          <InputGroup as={Col} sm=\"9\">\n            <InputGroup.Prepend>\n              <InputGroup.Text><FaEthereum /></InputGroup.Text>\n            </InputGroup.Prepend>\n            <Form.Control\n              required\n              min={1}\n              type=\"number\"\n              disabled={event.isFree || isCreating}\n              placeholder=\"Price\"\n              value={event.price}\n              className={classNames({\n                'is-valid': validated && validation.price,\n                'is-invalid': validated && !validation.price\n              })}\n              onChange={e => {\n                const { value: price } = e.target;\n\n                this.setState({\n                  event: {\n                    ...event,\n                    price: price || 1\n                  }\n                }, () => {\n                  this.validate();\n                });\n              }}\n            />\n            {\n              (validated && !validation.price) && (\n                <Form.Control.Feedback type=\"invalid\">\n                  Price is required and must be at least zero (free).\n                </Form.Control.Feedback>\n              )\n            }\n            <DropdownButton\n              as={InputGroup.Append}\n              disabled={event.isFree || isCreating}\n              variant=\"outline-secondary\"\n              title={etherUnits[event.unit]}\n              id=\"units-create-form\"\n            >\n              {Object.keys(etherUnits).map((unit, i) => (\n                <Dropdown.Item\n                  key={i}\n                  eventKey={unit}\n                  active={event.unit === unit}\n                  onSelect={unit => {\n                    this.setState({ event: { ...event, unit } });\n                  }}\n                >\n                  {etherUnits[unit]}\n                </Dropdown.Item>\n              ))}\n            </DropdownButton>\n          </InputGroup>\n          <Col sm=\"3\">\n            <Form.Check\n              custom\n              type=\"checkbox\"\n              id=\"is-free-create-form\"\n              label=\"Free\"\n              checked={event.isFree}\n              disabled={isCreating}\n              onChange={e => {\n                const { checked: isFree } = e.target;\n                const price = isFree ? 0 : (event.price || 1);\n                const unit = isFree ? 'ether' : event.unit;\n\n                this.setState({ event: { ...event, isFree, price, unit } });\n              }}\n            />\n          </Col>\n        </Form.Group>\n        <Form.Group>\n          <InputGroup>\n            <InputGroup.Prepend>\n              <InputGroup.Text><FaUsers /></InputGroup.Text>\n            </InputGroup.Prepend>\n            <Form.Control\n              required\n              min={1}\n              type=\"number\"\n              placeholder=\"Quota\"\n              value={event.quota}\n              className={classNames({\n                'is-valid': validated && validation.quota,\n                'is-invalid': validated && !validation.quota\n              })}\n              disabled={isCreating}\n              onChange={e => {\n                const { value: quota } = e.target;\n\n                this.setState({\n                  event: {\n                    ...event,\n                    quota: quota || 1\n                  }\n                }, () => {\n                  this.validate();\n                });\n              }}\n            />\n            {\n              (validated && !validation.quota) && (\n                <Form.Control.Feedback type=\"invalid\">\n                  Quota is required and must be at least one.\n                </Form.Control.Feedback>\n              )\n            }\n          </InputGroup>\n        </Form.Group>\n        <Button\n          variant=\"primary\"\n          type=\"submit\"\n          block\n          disabled={isCreating}\n        >\n          {submitButtonChildren}\n        </Button>\n      </Form>\n    );\n  };\n\n  render() {\n    const {\n      onHide = () => {},\n      show\n    } = this.props;\n\n    const { isCreating, isCreated } = this.state;\n\n    return (\n      <Modal\n        show={show}\n        onHide={() => {\n          this.setState({\n            event: initialEvent(),\n            isCreating: false,\n            isCreated: false,\n            validation: initialEventValidation()\n          }, () => {\n            onHide();\n          });\n        }}\n        backdrop=\"static\"\n        keyboard={false}\n        centered\n      >\n        <Modal.Header closeButton={!isCreating || isCreated}>\n          <Modal.Title>Create a new event</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {this.renderForm()}\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nexport default CreateEventForm;\n","import React, { Component } from 'react';\n\nclass IconWithText extends Component {\n  render() {\n    const { children, icon: Icon } = this.props;\n\n    return (\n      <template style={{ display: 'flex', alignItems: 'center' }}>\n        <Icon />&nbsp;{children}\n      </template>\n    );\n  }\n}\n\nexport default IconWithText;\n","import React, { Component } from 'react';\nimport { Card } from 'react-bootstrap';\nimport {\n  FaCalendarAlt,\n  FaEthereum,\n  FaUserCircle,\n  FaUsers\n} from 'react-icons/fa';\n\nimport IconWithText from './IconWithText';\n\nclass Event extends Component {\n  render() {\n    const {\n      event,\n      forOrganizer = false,\n      forParticipant = false,\n      onClickTitle = () => {}\n    } = this.props;\n\n    return (\n      <Card>\n        <Card.Body>\n          <Card.Title>\n            {\n              forParticipant ? event.shortName : (\n                <Card.Link\n                  href=\"#\"\n                  onClick={e => {\n                    e.preventDefault();\n\n                    onClickTitle(event.id);\n                  }}\n                >\n                  {event.shortName}\n                </Card.Link>\n              )\n            }\n          </Card.Title>\n          {\n            (forParticipant || forOrganizer) ? (\n              [event.startTimeDisplay, event.endTimeDisplay].map((date, i) => (\n                <Card.Text key={i}>\n                  <IconWithText icon={FaCalendarAlt}>{date}</IconWithText>\n                </Card.Text>\n              ))\n            ) : (\n              <Card.Text>\n                <IconWithText icon={FaCalendarAlt}>\n                  {event.displayDate}\n                </IconWithText>\n              </Card.Text>\n            )\n          }\n          <Card.Text>\n            <IconWithText icon={FaEthereum}>\n              {\n                event.isFree ? 'Free' : `${event.priceInEth} ETH`\n              }\n            </IconWithText>\n          </Card.Text>\n          {\n            forOrganizer && (\n              <Card.Text>\n                <IconWithText icon={FaUsers}>\n                  {`${event.soldCounter} / ${event.quota}`}\n                </IconWithText>\n              </Card.Text>\n            )\n          }\n        </Card.Body>\n        <Card.Footer>\n          <Card.Text>\n            {\n              forOrganizer ? (\n                <IconWithText icon={FaEthereum}>\n                  <Card.Text>{event.moneyCollectedInEth} ETH</Card.Text>\n                </IconWithText>\n              ) : (\n                <IconWithText icon={FaUserCircle}>\n                  <Card.Text>{event.shortOrganizer}</Card.Text>\n                </IconWithText>\n              )\n            }\n          </Card.Text>\n        </Card.Footer>\n      </Card>\n    );\n  }\n}\n\nexport default Event;\n","import React, { Component } from 'react';\n\nclass Footer extends Component {\n  render() {\n    return (\n      <footer>\n        <hr />\n        <p className=\"text-center\">\n          Created by {\n            <ATargetBlank href=\"https://rymanalu.github.io/\">\n              Roni Yusuf\n            </ATargetBlank>\n          } &middot; {\n            <ATargetBlank href=\"https://www.linkedin.com/in/roni-yusuf/\">\n              LinkedIn\n            </ATargetBlank>\n          } &middot; {\n            <ATargetBlank href=\"https://github.com/rymanalu/loketh\">\n              Github\n            </ATargetBlank>\n          }\n        </p>\n      </footer>\n    );\n  }\n}\n\nconst ATargetBlank = props => {\n  const { children, ...newProps } = props;\n\n  return (\n    <a\n      {...newProps}\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      {children}\n    </a>\n  );\n};\n\nexport default Footer;\n","import React, { Component } from 'react';\nimport { Alert } from 'react-bootstrap';\n\nclass LokethAlert extends Component {\n  state = { show: true };\n\n  render() {\n    const { show } = this.state;\n\n    return show && (\n      <Alert\n        variant=\"warning\"\n        className=\"mt-2\"\n        onClose={() => {\n          this.setState({ show: false });\n        }}\n        dismissible\n        >\n        <Alert.Heading>Attention!</Alert.Heading>\n        <p>\n          Loketh is an experimental app. Please, do not create real transactions here. The author has no responsibility about any usage of this app.\n        </p>\n        <p className=\"mb-0\">\n          Hey, have no idea how to use this? Check out my demo video on YouTube!\n        </p>\n      </Alert>\n    );\n  }\n}\n\nexport default LokethAlert;\n","import React, { Component } from 'react';\nimport { Container, Nav, Navbar as RBNavbar, Spinner } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nimport { fromWei, getShortAddress, handleError } from '../utils';\n\nclass Navbar extends Component {\n  eventCreatedListener = null;\n\n  moneyWithdrawnListener = null;\n\n  ticketIssuedListener = null;\n\n  state = { account: '', balance: 0, loaded: false };\n\n  componentDidMount = async () => {\n    if (this.props.initialized) {\n      await this.getAccount();\n\n      this.listenToEventCreated();\n      this.listenToMoneyWithdrawn();\n      this.listenToTicketIssued();\n    }\n  };\n\n  componentDidUpdate = async (prevProps) => {\n    if (\n      this.props.initialized &&\n      this.props.initialized !== prevProps.initialized\n    ) {\n      await this.getAccount();\n\n      this.listenToEventCreated();\n      this.listenToMoneyWithdrawn();\n      this.listenToTicketIssued();\n    }\n  };\n\n  getAccount = async () => {\n    try {\n      this.setState({ loaded: false });\n\n      const { accounts, web3 } = this.props;\n\n      const [account] = accounts;\n\n      const balance = await web3.eth.getBalance(account);\n\n      this.setState({\n        account: getShortAddress(account),\n        balance: fromWei(balance),\n        loaded: true\n      });\n    } catch (error) {\n      handleError(error);\n    }\n  };\n\n  listenToEventCreated = () => {\n    const { accounts, loketh } = this.props;\n\n    const event = 'data';\n    const callback = () => {\n      this.getAccount();\n    };\n\n    if (this.eventCreatedListener) {\n      this.eventCreatedListener.off(event, callback);\n      this.eventCreatedListener = null;\n    }\n\n    const filter = { organizer: accounts[0] };\n\n    this.eventCreatedListener = loketh.events.EventCreated({ filter });\n    this.eventCreatedListener.on(event, callback);\n  };\n\n  listenToMoneyWithdrawn = () => {\n    const { accounts, loketh } = this.props;\n\n    const event = 'data';\n    const callback = () => {\n      this.getAccount();\n    };\n\n    if (this.moneyWithdrawnListener) {\n      this.moneyWithdrawnListener.off(event, callback);\n      this.moneyWithdrawnListener = null;\n    }\n\n    const filter = { recipient: accounts[0] };\n\n    this.moneyWithdrawnListener = loketh.events.MoneyWithdrawn({ filter });\n    this.moneyWithdrawnListener.on(event, callback);\n  };\n\n  listenToTicketIssued = () => {\n    const { accounts, loketh } = this.props;\n\n    const event = 'data';\n    const callback = () => {\n      this.getAccount();\n    };\n\n    if (this.ticketIssuedListener) {\n      this.ticketIssuedListener.off(event, callback);\n      this.ticketIssuedListener = null;\n    }\n\n    const filter = { participant: accounts[0] };\n\n    this.ticketIssuedListener = loketh.events.TicketIssued({ filter });\n    this.ticketIssuedListener.on('data', () => {\n      this.getAccount();\n    });\n  };\n\n  render() {\n    const { account, balance, loaded } = this.state;\n\n    return (\n      <RBNavbar bg=\"dark\" expand=\"md\" sticky=\"top\" variant=\"dark\">\n        <Container>\n          <RBNavbar.Brand>Lok<strong>eth</strong></RBNavbar.Brand>\n          <RBNavbar.Toggle />\n          <RBNavbar.Collapse>\n            <Nav className=\"mr-auto\" defaultActiveKey=\"events\">\n              <Nav.Link to=\"/\" as={Link} eventKey=\"events\">\n                Events\n              </Nav.Link>\n              <Nav.Link to=\"/my-events\" as={Link} eventKey=\"my-events\">\n                My Events\n              </Nav.Link>\n              <Nav.Link to=\"/my-tickets\" as={Link} eventKey=\"my-tickets\">\n                My Tickets\n              </Nav.Link>\n            </Nav>\n            {\n              loaded ? (\n                <RBNavbar.Text>\n                  Signed in as: <strong>{account} ({balance} ETH)</strong>\n                </RBNavbar.Text>\n              ) : (\n                <Spinner animation=\"grow\" variant=\"light\" />\n              )\n            }\n          </RBNavbar.Collapse>\n        </Container>\n      </RBNavbar>\n    );\n  }\n}\n\nexport default Navbar;\n","import React, { Component, Fragment } from 'react';\n\nimport { Pagination as BasePagination } from 'react-bootstrap';\n\nclass Pagination extends Component {\n  render() {\n    const {\n      from = 0,\n      hasPrev = false,\n      hasNext = false,\n      onClickPrev = () => {},\n      onClickNext = () => {},\n      things = 'events',\n      to = 0,\n      total = 0\n    } = this.props;\n\n    return (\n      <Fragment>\n        <BasePagination className=\"d-flex justify-content-center mt-4\">\n          {\n            hasPrev && (\n              <BasePagination.Prev onClick={onClickPrev} />\n            )\n          }\n          {\n            hasNext && (\n              <BasePagination.Next onClick={onClickNext} />\n            )\n          }\n        </BasePagination>\n        <p className=\"text-center\">\n          Showing {from} to {to} of {total} {things}\n        </p>\n      </Fragment>\n    );\n  }\n}\n\nexport default Pagination;\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport {\n  Button,\n  Form,\n  InputGroup,\n  Modal,\n  Spinner,\n  Tab,\n  Tabs\n} from 'react-bootstrap';\nimport { FaUser } from 'react-icons/fa';\n\nimport { handleError, isAddress, toEvent } from '../utils';\n\nclass WithdrawalForm extends Component {\n  state = {\n    activeTab: 'check',\n    addressToCheck: '',\n    event: null,\n    isAddressValid: false,\n    isValidatingAddress: false,\n    isWithdrawalSucceed: false,\n    isWithdrawing: false,\n    loaded: false\n  };\n\n  componentDidMount = async () => {\n    await this.getEvent();\n  };\n\n  componentDidUpdate = async (prevProps, prevState) => {\n    if (\n      (this.props.event !== prevProps.event) ||\n      (\n        !this.state.loaded && (\n          this.state.loaded !== prevState.loaded\n        )\n      )\n    ) {\n      await this.getEvent();\n    }\n  };\n\n  getEvent = async () => {\n    try {\n      this.setState({ loaded: false });\n\n      const { accounts, event: e, loketh } = this.props;\n\n      const [account] = accounts;\n\n      if (e) {\n        const event = await loketh.methods.getEvent(e.id).call({\n          from: account\n        });\n\n        this.setState({\n          event: toEvent(event, e.id),\n          loaded: true\n        });\n      }\n    } catch (error) {\n      handleError(error);\n    }\n  };\n\n  withdraw = async (event) => {\n    this.setState({ isWithdrawing: true });\n\n    const { accounts, loketh } = this.props;\n\n    try {\n      await loketh.methods.withdrawMoney(event.id).send({\n        from: accounts[0]\n      });\n\n      this.setState({ isWithdrawalSucceed: true, isWithdrawing: true });\n    } catch (error) {\n      handleError(error);\n\n      this.setState({ isWithdrawalSucceed: false, isWithdrawing: false });\n    }\n  };\n\n  renderCheck = () => {\n    const { accounts, loketh } = this.props;\n    const {\n      addressToCheck,\n      event,\n      isAddressValid,\n      isValidatingAddress\n    } = this.state;\n\n    return (\n      <Form className=\"mt-2\" noValidate onSubmit={async (e) => {\n        e.preventDefault();\n\n        const isValidAddress = isAddress(addressToCheck);\n\n        if (isValidAddress) {\n          const result = await loketh.methods.participantHasTicket(\n            addressToCheck,\n            event.id\n          ).call({ from: accounts[0] });\n\n          alert(\n            result\n              ? 'Given address is a valid participant.'\n              : 'Given address is not a valid participant.'\n          );\n        } else {\n          alert('Given address is not a valid address.');\n        }\n      }}>\n        <Form.Group>\n          <InputGroup>\n            <InputGroup.Prepend>\n              <InputGroup.Text><FaUser /></InputGroup.Text>\n            </InputGroup.Prepend>\n            <Form.Control\n              required\n              placeholder=\"Account address\"\n              className={classNames({\n                'is-valid': addressToCheck.length > 0 && isAddressValid,\n                'is-invalid': addressToCheck.length > 0 && !isAddressValid\n              })}\n              disabled={isValidatingAddress}\n              value={addressToCheck}\n              onChange={e => {\n                const { value: addressToCheck } = e.target;\n\n                this.setState({ addressToCheck }, () => {\n                  this.setState({\n                    isAddressValid: isAddress(this.state.addressToCheck)\n                  });\n                });\n              }}\n            />\n            {\n              (addressToCheck.length > 0 && !isAddressValid) && (\n                <Form.Control.Feedback type=\"invalid\">\n                  Address is required and must be a valid address.\n                </Form.Control.Feedback>\n              )\n            }\n          </InputGroup>\n        </Form.Group>\n        <Button\n          variant=\"primary\"\n          type=\"submit\"\n          block\n          disabled={isValidatingAddress}\n        >\n          Check\n        </Button>\n      </Form>\n    );\n  };\n\n  renderWithdraw = () => {\n    const {\n      event,\n      isWithdrawalSucceed,\n      isWithdrawing\n    } = this.state;\n\n    const canWithdraw = event ? event.ended : false;\n    const hasMoneyToWithdraw = event ? event.hasMoneyToWithdraw : false;\n\n    let message;\n\n    if (isWithdrawing) {\n      message = isWithdrawalSucceed\n        ? (<p>Money withdrawn! Check your balance.</p>)\n        : (<p>Withdrawing money...</p>);\n    } else {\n      if (canWithdraw) {\n        if (hasMoneyToWithdraw) {\n          message = (\n            <p>\n              {`Are you sure you want to withdraw money from `}\n              <strong>{event.name}</strong>\n              {`?`}\n            </p>\n          );\n        } else {\n          message = (<p>There are no money to withdraw.</p>);\n        }\n      } else {\n        message = (\n          <p>You can withdraw money after the event ended.</p>\n        );\n      }\n    }\n\n    return (\n      <div className=\"mt-2\">\n        {message}\n        {\n          (\n            (canWithdraw && hasMoneyToWithdraw) &&\n            !isWithdrawalSucceed\n          ) && (\n            <Button\n              variant=\"primary\"\n              block\n              disabled={isWithdrawing}\n              onClick={() => {\n                this.withdraw(event);\n              }}\n            >\n              {\n                isWithdrawing ? <Spinner animation=\"border\" /> : 'Withdraw'\n              }\n            </Button>\n          )\n        }\n      </div>\n    );\n  };\n\n  render() {\n    const {\n      onHide = () => {},\n      show = false\n    } = this.props;\n\n    const {\n      activeTab,\n      event,\n      isWithdrawalSucceed,\n      isWithdrawing,\n      loaded\n    } = this.state;\n\n    return (\n      <Modal\n        show={show}\n        onHide={() => {\n          this.setState({\n            activeTab: 'check',\n            addressToCheck: '',\n            event: null,\n            isAddressValid: false,\n            isValidatingAddress: false,\n            isWithdrawalSucceed: false,\n            isWithdrawing: false,\n            loaded: false\n          }, () => {\n            onHide();\n          });\n        }}\n        backdrop=\"static\"\n        keyboard={false}\n        centered\n      >\n        <Modal.Header closeButton={!isWithdrawing || isWithdrawalSucceed}>\n          <Modal.Title>\n            {loaded ? event.name : 'Loading...'}\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {\n            loaded ? (\n              <Tabs\n                id=\"my-events-modal-tab\"\n                activeKey={activeTab}\n                onSelect={tab => {\n                  this.setState({ activeTab: tab });\n                }}\n              >\n                <Tab eventKey=\"check\" title=\"Check a participant\">\n                  {this.renderCheck()}\n                </Tab>\n                <Tab eventKey=\"withdrawal\" title=\"Withdrawal\">\n                  {this.renderWithdraw()}\n                </Tab>\n              </Tabs>\n            ) : (\n              <div className=\"d-flex justify-content-center\">\n                <Spinner animation=\"border\" />\n              </div>\n            )\n          }\n        </Modal.Body>\n      </Modal>\n    );\n  }\n}\n\nexport default WithdrawalForm;\n","import Web3 from 'web3';\n\nconst getWeb3 = (onAccountsChanged = () => {}) =>\n  new Promise((resolve, reject) => {\n    // Wait for loading completion to avoid race conditions with web3 injection timing.\n    window.addEventListener('load', async () => {\n      // Modern dapp browsers...\n      if (window.ethereum) {\n        const web3 = new Web3(window.ethereum);\n        try {\n          // Request account access if needed\n          await window.ethereum.enable();\n\n          window.ethereum.on('accountsChanged', accounts => {\n            onAccountsChanged(accounts);\n          });\n\n          // Accounts now exposed\n          resolve(web3);\n        } catch (error) {\n          reject(error);\n        }\n      } else {\n        reject(new Error('You have no Metamask installed.'));\n      }\n    });\n  });\n\nexport default getWeb3;\n","import React, { Component, Fragment } from 'react';\nimport classNames from 'classnames';\nimport { Col, Row, Spinner } from 'react-bootstrap';\n\nimport { BuyTicketForm, Event, Pagination } from '../components';\nimport { arrayChunk, descPagination, handleError, toEvent } from '../utils';\n\nconst CHUNK = 3;\n\nclass Events extends Component {\n  state = {\n    events: [],\n    loaded: false,\n    page: 1,\n    paginationHasPrev: false,\n    paginationHasNext: false,\n    perPage: 12,\n    selectedEvent: null,\n    showBuyTicket: false,\n    totalEvents: 0\n  };\n\n  componentDidMount = async () => {\n    if (this.props.initialized) {\n      await this.getEvents();\n    }\n  };\n\n  componentDidUpdate = async (prevProps) => {\n    if (\n      this.props.initialized &&\n      this.props.initialized !== prevProps.initialized\n    ) {\n      await this.getEvents();\n    }\n  };\n\n  getEvents = async (page = 1) => {\n    try {\n      this.setState({ events: [], loaded: false });\n\n      const { accounts, loketh } = this.props;\n\n      const totalEvents = await loketh.methods.totalEvents().call({\n        from: accounts[0]\n      });\n\n      this.setState({ page, totalEvents }, async () => {\n        const { page, perPage, totalEvents } = this.state;\n\n        const {\n          maxId,\n          minId,\n          hasPrev: paginationHasPrev,\n          hasNext: paginationHasNext\n        } = descPagination(totalEvents, page, perPage, false);\n\n        const events = [];\n\n        for (let i = maxId; i > minId; i--) {\n          const event = await loketh.methods.getEvent(i).call({\n            from: accounts[0]\n          });\n\n          events.push(toEvent(event, i));\n        }\n\n        this.setState({\n          events: arrayChunk(events, CHUNK),\n          loaded: true,\n          paginationHasPrev,\n          paginationHasNext\n        });\n      });\n    } catch (error) {\n      handleError(error);\n    }\n  };\n\n  render() {\n    const { accounts, loketh } = this.props;\n\n    const {\n      events,\n      loaded,\n      page,\n      paginationHasPrev,\n      paginationHasNext,\n      perPage,\n      selectedEvent,\n      showBuyTicket,\n      totalEvents\n    } = this.state;\n\n    const fromData = ((page - 1) * perPage) + 1;\n    const toData = paginationHasNext ? page * perPage : totalEvents;\n\n    return (\n      <Fragment>\n        <h1 className=\"mt-1\">Events</h1>\n        {\n          loaded ? (\n            events.length > 0 ? (events.map((chunk, i) => {\n              const filler = [];\n\n              for (let x = 0; x < (CHUNK - chunk.length); x++) {\n                filler.push(<Col key={x} />);\n              }\n\n              const rowClassName = classNames({ 'mt-4': i > 0 });\n\n              return (\n                <Row className={rowClassName} key={i}>\n                  {chunk.map((event, j) => (\n                    <Col key={j}>\n                      <Event\n                        event={event}\n                        onClickTitle={() => {\n                          this.setState({\n                            selectedEvent: event,\n                            showBuyTicket: true\n                          });\n                        }}\n                      />\n                    </Col>\n                  ))}\n                  {filler}\n                </Row>\n              );\n            })) : (\n              <p className=\"text-center\">\n                There are no upcoming events at this time.\n              </p>\n            )\n          ) : (\n            <div className=\"d-flex justify-content-center\">\n              <Spinner animation=\"border\" />\n            </div>\n          )\n        }\n        {\n          events.length > 0 && (\n            <Pagination\n              from={fromData}\n              hasPrev={paginationHasPrev}\n              hasNext={paginationHasNext}\n              onClickPrev={() => {\n                this.getEvents(page - 1);\n              }}\n              onClickNext={() => {\n                this.getEvents(page + 1);\n              }}\n              to={toData}\n              total={totalEvents}\n            />\n          )\n        }\n        {\n          loaded && (\n            <BuyTicketForm\n              accounts={accounts}\n              event={selectedEvent}\n              loketh={loketh}\n              onHide={() => {\n                this.setState({ showBuyTicket: false });\n              }}\n              show={showBuyTicket}\n            />\n          )\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default Events;\n","import React, { Component, Fragment } from 'react';\nimport classNames from 'classnames';\nimport { Button, Col, Row, Spinner } from 'react-bootstrap';\nimport { FaCalendarPlus } from 'react-icons/fa';\n\nimport {\n  CreateEventForm,\n  Event,\n  IconWithText,\n  Pagination,\n  WithdrawalForm\n} from '../components';\nimport { arrayChunk, descPagination, handleError, toEvent } from '../utils';\n\nconst CHUNK = 3;\n\nclass MyEvents extends Component {\n  _isMounted = false;\n\n  ticketIssuedListener = null;\n\n  state = {\n    events: [],\n    loaded: false,\n    page: 1,\n    paginationHasPrev: false,\n    paginationHasNext: false,\n    perPage: 12,\n    selectedEvent: null,\n    showCreate: false,\n    showWithdrawal: false,\n    totalEvents: 0\n  };\n\n  componentDidMount = async () => {\n    this._isMounted = true;\n\n    if (this.props.initialized) {\n      await this.getEvents();\n\n      this.listenToTicketIssued();\n    }\n  };\n\n  componentDidUpdate = async (prevProps) => {\n    if (\n      this.props.initialized &&\n      this.props.initialized !== prevProps.initialized\n    ) {\n      await this.getEvents();\n\n      this.listenToTicketIssued();\n    }\n  };\n\n  componentWillUnmount = () => {\n    this._isMounted = false;\n  };\n\n  getEvents = async (page = 1, reload = true) => {\n    try {\n      if (reload) {\n        this.setState({ events: [], loaded: false });\n      }\n\n      const { accounts, loketh } = this.props;\n\n      const [account] = accounts;\n\n      const eventIds = await loketh.methods.eventsOfOwner(account).call({\n        from: account\n      });\n\n      const totalEvents = eventIds.length;\n\n      this.setState({ page, totalEvents }, async () => {\n        const { page, perPage, totalEvents } = this.state;\n\n        const {\n          maxId,\n          minId,\n          hasPrev: paginationHasPrev,\n          hasNext: paginationHasNext\n        } = descPagination(totalEvents, page, perPage);\n\n        const events = [];\n\n        for (let i = maxId; i > minId; i--) {\n          const id = eventIds[i];\n\n          const event = await loketh.methods.getEvent(id).call({\n            from: account\n          });\n\n          events.push(toEvent(event, id));\n        }\n\n        this.setState({\n          events: arrayChunk(events, CHUNK),\n          loaded: true,\n          paginationHasPrev,\n          paginationHasNext\n        }, () => {\n          this.listenToTicketIssued();\n        });\n      });\n    } catch (error) {\n      handleError(error);\n    }\n  };\n\n  listenToTicketIssued = () => {\n    const { loketh } = this.props;\n    const { events, page } = this.state;\n\n    const event = 'data';\n    const callback = () => {\n      if (this._isMounted) {\n        this.getEvents(page, false);\n      }\n    };\n\n    if (this.ticketIssuedListener) {\n      this.moneyWithdrawnListener.off(event, callback);\n      this.moneyWithdrawnListener = null;\n    }\n\n    const eventIds = [];\n\n    for (const chunks of events) {\n      for (const e of chunks) {\n        eventIds.push(e.id);\n      }\n    }\n\n    const filter = { eventId: eventIds };\n\n    this.moneyWithdrawnListener = loketh.events.TicketIssued({ filter });\n    this.moneyWithdrawnListener.on(event, callback);\n  };\n\n  render() {\n    const { accounts, loketh } = this.props;\n\n    const {\n      events,\n      loaded,\n      page,\n      paginationHasPrev,\n      paginationHasNext,\n      perPage,\n      selectedEvent,\n      showCreate,\n      showWithdrawal,\n      totalEvents\n    } = this.state;\n\n    const fromData = ((page - 1) * perPage) + 1;\n    const toData = paginationHasNext ? page * perPage : totalEvents;\n\n    return (\n      <Fragment>\n        <div className=\"mt-1 position-relative\">\n          <h1>My Events</h1>\n          <div\n            className=\"position-absolute\"\n            style={{ top: '0px', right: '0px' }}\n          >\n            <Button\n              variant=\"primary\"\n              onClick={() => {\n                this.setState({ showCreate: true });\n              }}\n            >\n              <IconWithText icon={FaCalendarPlus}>Create</IconWithText>\n            </Button>\n          </div>\n        </div>\n        {\n          loaded ? (\n            events.length > 0 ? (events.map((chunk, i) => {\n              const filler = [];\n\n              for (let x = 0; x < (CHUNK - chunk.length); x++) {\n                filler.push(<Col key={x} />);\n              }\n\n              const rowClassName = classNames({ 'mt-4': i > 0 });\n\n              return (\n                <Row className={rowClassName} key={i}>\n                  {chunk.map((event, j) => (\n                    <Col key={j}>\n                      <Event\n                        event={event}\n                        forOrganizer\n                        onClickTitle={() => {\n                          this.setState({\n                            selectedEvent: event,\n                            showWithdrawal: true\n                          });\n                        }}\n                      />\n                    </Col>\n                  ))}\n                  {filler}\n                </Row>\n              );\n            })) : (\n              <p className=\"text-center\">\n                You have no events.\n              </p>\n            )\n          ) : (\n            <div className=\"d-flex justify-content-center\">\n              <Spinner animation=\"border\" />\n            </div>\n          )\n        }\n        {\n          events.length > 0 && (\n            <Pagination\n              from={fromData}\n              hasPrev={paginationHasPrev}\n              hasNext={paginationHasNext}\n              onClickPrev={() => {\n                this.getEvents(page - 1);\n              }}\n              onClickNext={() => {\n                this.getEvents(page + 1);\n              }}\n              to={toData}\n              total={totalEvents}\n            />\n          )\n        }\n        {\n          loaded && (\n            <Fragment>\n              <CreateEventForm\n                accounts={accounts}\n                loketh={loketh}\n                onHide={() => {\n                  this.setState({ showCreate: false });\n\n                  this.getEvents(1, false);\n                }}\n                show={showCreate}\n              />\n              <WithdrawalForm\n                accounts={accounts}\n                event={selectedEvent}\n                loketh={loketh}\n                onHide={() => {\n                  this.setState({ showWithdrawal: false });\n\n                  this.getEvents(page, false);\n                }}\n                show={showWithdrawal}\n              />\n            </Fragment>\n          )\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default MyEvents;\n","import React, { Component, Fragment } from 'react';\nimport classNames from 'classnames';\nimport { Col, Row, Spinner } from 'react-bootstrap';\n\nimport { Event, Pagination } from '../components';\nimport { arrayChunk, descPagination, handleError, toEvent } from '../utils';\n\nconst CHUNK = 3;\n\nclass MyTickets extends Component {\n  _isMounted = false;\n\n  ticketIssuedListener = null;\n\n  state = {\n    loaded: false,\n    page: 1,\n    paginationHasPrev: false,\n    paginationHasNext: false,\n    perPage: 12,\n    tickets: [],\n    totalTickets: 0\n  };\n\n  componentDidMount = async () => {\n    this._isMounted = true;\n\n    if (this.props.initialized) {\n      await this.getTickets();\n\n      this.listenToTicketIssued();\n    }\n  };\n\n  componentDidUpdate = async (prevProps) => {\n    if (\n      this.props.initialized &&\n      this.props.initialized !== prevProps.initialized\n    ) {\n      await this.getTickets();\n\n      this.listenToTicketIssued();\n    }\n  };\n\n  componentWillUnmount = () => {\n    this._isMounted = false;\n  };\n\n  getTickets = async (page = 1) => {\n    try {\n      this.setState({ loaded: false, tickets: [] });\n\n      const { accounts, loketh } = this.props;\n\n      const [account] = accounts;\n\n      const ticketIds = await loketh.methods.ticketsOfOwner(account).call({\n        from: account\n      });\n\n      const totalTickets = ticketIds.length;\n\n      this.setState({ page, totalTickets }, async () => {\n        const { page, perPage, totalTickets } = this.state;\n\n        const {\n          maxId,\n          minId,\n          hasPrev: paginationHasPrev,\n          hasNext: paginationHasNext\n        } = descPagination(totalTickets, page, perPage);\n\n        const tickets = [];\n\n        for (let i = maxId; i > minId; i--) {\n          const id = ticketIds[i];\n\n          const event = await loketh.methods.getEvent(id).call({\n            from: account\n          });\n\n          tickets.push(toEvent(event, id));\n        }\n\n        this.setState({\n          loaded: true,\n          paginationHasPrev,\n          paginationHasNext,\n          tickets: arrayChunk(tickets, CHUNK)\n        });\n      });\n    } catch (error) {\n      handleError(error);\n    }\n  };\n\n  listenToTicketIssued = () => {\n    const { accounts, loketh } = this.props;\n\n    const event = 'data';\n    const callback = () => {\n      if (this._isMounted) {\n        this.getTickets();\n      }\n    };\n\n    if (this.ticketIssuedListener) {\n      this.moneyWithdrawnListener.off(event, callback);\n      this.moneyWithdrawnListener = null;\n    }\n\n    const filter = { participant: accounts[0] };\n\n    this.moneyWithdrawnListener = loketh.events.TicketIssued({ filter });\n    this.moneyWithdrawnListener.on(event, callback);\n  };\n\n  render() {\n    const {\n      loaded,\n      page,\n      paginationHasPrev,\n      paginationHasNext,\n      perPage,\n      tickets,\n      totalTickets\n    } = this.state;\n\n    const fromData = ((page - 1) * perPage) + 1;\n    const toData = paginationHasNext ? page * perPage : totalTickets;\n\n    return (\n      <Fragment>\n        <h1 className=\"mt-1\">My Tickets</h1>\n        {\n          loaded ? (\n            tickets.length > 0 ? (tickets.map((chunk, i) => {\n              const filler = [];\n\n              for (let x = 0; x < (CHUNK - chunk.length); x++) {\n                filler.push(<Col key={x} />);\n              }\n\n              const rowClassName = classNames({ 'mt-4': i > 0 });\n\n              return (\n                <Row className={rowClassName} key={i}>\n                  {chunk.map((ticket, j) => (\n                    <Col key={j}>\n                      <Event event={ticket} forParticipant />\n                    </Col>\n                  ))}\n                  {filler}\n                </Row>\n              );\n            })) : (\n              <p className=\"text-center\">\n                You have no tickets.\n              </p>\n            )\n          ) : (\n            <div className=\"d-flex justify-content-center\">\n              <Spinner animation=\"border\" />\n            </div>\n          )\n        }\n        {\n          tickets.length > 0 && (\n            <Pagination\n              from={fromData}\n              hasPrev={paginationHasPrev}\n              hasNext={paginationHasNext}\n              onClickPrev={() => {\n                this.getTickets(page - 1);\n              }}\n              onClickNext={() => {\n                this.getTickets(page + 1);\n              }}\n              things=\"tickets\"\n              to={toData}\n              total={totalTickets}\n            />\n          )\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default MyTickets;\n","import React, { Component } from 'react';\nimport { Container } from 'react-bootstrap';\nimport { HashRouter as Router, Route, Switch } from 'react-router-dom';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport { Footer, LokethAlert, Navbar } from './components';\nimport LokethContract from './contracts/Loketh.json';\nimport getWeb3 from './getWeb3';\nimport { Events, MyEvents, MyTickets } from './pages';\nimport { handleError } from './utils';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    accounts: [],\n    initialized: false,\n    loketh: null,\n    web3: null\n  };\n\n  componentDidMount = async () => {\n    try {\n      const web3 = await getWeb3(accounts => {\n        this.setState({ accounts });\n      });\n\n      const accounts = await web3.eth.getAccounts();\n      const networkId = await web3.eth.net.getId();\n\n      // eslint-disable-next-line\n      if (networkId != process.env.REACT_APP_NETWORK_ID) {\n        throw new Error('You are connected to the wrong network.');\n      }\n\n      const deployedNetwork = LokethContract.networks[networkId];\n\n      if (!deployedNetwork) {\n        throw new Error('Loketh contract has not deployed.');\n      }\n\n      const instance = new web3.eth.Contract(\n        LokethContract.abi,\n        deployedNetwork.address,\n      );\n\n      this.setState({ accounts, initialized: true, loketh: instance, web3 });\n    } catch (error) {\n      // Catch any errors for any of the above operations.\n      handleError(error);\n    }\n  };\n\n  render() {\n    const { accounts, initialized, loketh, web3 } = this.state;\n\n    return (\n      <Router basename={process.env.PUBLIC_URL}>\n        <Navbar\n          accounts={accounts}\n          initialized={initialized}\n          loketh={loketh}\n          web3={web3}\n        />\n        <Container as=\"main\">\n          <LokethAlert />\n          <Switch>\n            <Route path=\"/my-events\">\n              <MyEvents\n                accounts={accounts}\n                initialized={initialized}\n                loketh={loketh}\n                web3={web3}\n              />\n            </Route>\n            <Route path=\"/my-tickets\">\n              <MyTickets\n                accounts={accounts}\n                initialized={initialized}\n                loketh={loketh}\n                web3={web3}\n              />\n            </Route>\n            <Route path=\"/\">\n              <Events\n                accounts={accounts}\n                initialized={initialized}\n                loketh={loketh}\n                web3={web3}\n              />\n            </Route>\n          </Switch>\n        </Container>\n        <Container>\n          <Footer />\n        </Container>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}